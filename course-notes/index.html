<!DOCTYPE html>
<html prefix="
og: http://ogp.me/ns# article: http://ogp.me/ns/article#
" vocab="http://ogp.me/ns" lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width">
<title> =^..^= MEH · Course Notes </title>
<link href="../assets/css/rst.css" rel="stylesheet" type="text/css">
<link href="../assets/css/poole.css" rel="stylesheet" type="text/css">
<link href="../assets/css/hyde.css" rel="stylesheet" type="text/css">
<link href="../assets/css/code.css" rel="stylesheet" type="text/css">
<link rel="stylesheet" href="http://fonts.googleapis.com/css?family=PT+Sans:400,400italic,700%7CAbril+Fatface">
<meta content="#5670d4" name="theme-color">
<link rel="alternate" type="application/rss+xml" title="RSS" href="../rss.xml">
<link rel="canonical" href="https://chowy1026.github.io/course-notes/">
<link rel="icon" href="../images/favicon.png" sizes="64x64">
<link rel="icon" href="../images/icon_512x512.png" sizes="512x512">
<link rel="next" href="index-2.html" type="text/html">
<script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><script type="text/x-mathjax-config">
        MathJax.Hub.Config({
            tex2jax: {
                inlineMath: [ ['$','$'], ["\\(","\\)"] ],
                displayMath: [ ['$$','$$'], ["\\[","\\]"] ],
                processEscapes: true
            },
            displayAlign: 'center', // Change this to 'left' to left equations.
            "HTML-CSS": {
                styles: {'.MathJax_Display': {"margin": 0}}
            }
        });
    </script><script type="text/x-mathjax-config">
  MathJax.Hub.Queue(function() {
    // Fix <code> tags after MathJax finishes running. This is a
    // hack to overcome a shortcoming of Markdown. Discussion at
    // https://github.com/mojombo/jekyll/issues/199
    var all = MathJax.Hub.getAllJax(), i;
    for(i = 0; i < all.length; i += 1) {
        all[i].SourceElement().parentNode.className += ' has-jax';
    }
});
</script><!--[if lt IE 9]><script src="../assets/js/html5.js"></script><![endif]-->
</head>
<body class="test">
    <a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

    <div class="sidebar">
        <div class="container sidebar-sticky">
            <div class="sidebar-about">
              <h1>
                <a href="https://chowy1026.github.io/">
                      <h1 id="brand"><a href="https://chowy1026.github.io/" title=" =^..^= MEH" rel="home">

        <span id="blog-title"> =^..^= MEH</span>
    </a></h1>

                </a>
              </h1>
                <p class="lead"></p>

            </div>
                <nav id="menu" role="navigation" class="sidebar-nav"><a class="sidebar-nav-item" href="../posts/index.html">Articles</a>
        <a class="sidebar-nav-item" href="#">Course Notes</a>
        <a class="sidebar-nav-item" href="../links/index.html">Links</a>
        <a class="sidebar-nav-item" href="../books/index.html">Books</a>
        <a class="sidebar-nav-item" href="../archives/archives.html">Archives</a>
        <a class="sidebar-nav-item" href="../tags.html">Tags</a>
    
    
    </nav><footer id="footer"><p class="footer">
              <span class="icon_row">

                <a href="mailto:chowy1026@gmail.com">
                  <img class="social_icon" src="../images/envelope1.png" title="email" width="24"></a> ·
                <!--<a href="">
                  <img class="social_icon" src="/images/twitter-black-shape1.png" title="twitter" width="24" /></a> &middot;-->
                <a href="https://github.com/chowy1026/">
                  <img class="social_icon" src="../images/github-character1.png" title="github" width="24"></a>
              </span>
              <br><br><span class="copyright">
              
Contents © 2016 by <a href="mailto:chowy1026@gmail.com">cHoWy</a> ·
Powered by <a href="https://getnikola.com" rel="nofollow">Nikola</a> <br><a href="http://hyde.getpoole.com" target="_blank">Hyde</a> theme by <a href="https://twitter.com/mdo" target="_blank">@mdo</a>

            </span>
            </p>
            
        </footer>
</div>
    </div>

    <div class="content container" id="content">

<div class="sectionindex">
    <header><h2><a href=".">Course Notes</a></h2>
    </header><div class="post">
    <article class="post h-entry post-text"><header><h1 class="post-title p-name"><a href="inferential-statistics/lesson-14/" class="u-url">Inferential Statistics - Correlations</a></h1>
        <div class="metadata">
            <span class="post-date dateline"><time class="published dt-published" datetime="2016-11-07T13:33:58+08:00" title="2016-11-07 13:33">2016-11-07 13:33</time></span>
        </div>
    </header><div class="e-content entry-content">
    <div>
<p><strong>Relationships</strong>   <br>
How one variable is related to the other?</p>
<p><strong>Variable X and Y</strong>    <br>
X is often referred to as the predictor, explanatory, independent variable.      </p>
<p>Y is often referred as the outcome, response, dependent variable.  </p>
<p>Scatterplot is a popular/ most common way to show relationship of X and Y variables.      </p>
<p><strong>Strong Relationships</strong>    <br>
Strong relationships usually have less scattered plots.  If we draw an eclipse surrounding the data points, the smaller the ratio of minor axis to the major axis, the stronger the relationship is.  </p>
<p><strong>Direction of Relationships</strong>       <br>
Positively related - Y responses in the same direction as X changes; Negatively related - Y responses in opposite directions of X changes.</p>
<p><strong>Correlation Coefficient, (r)</strong>    <br>
Also known as Pierson's r.  </p>
<p>r is a fraction, with the covariance of x and y (how much do they vary together) as the numerator, and the product of standard deviation of x  and standard deviation of y as the denominator.<br>
\[
  r = \frac{cov(x,y)}{ S_x * S_y } = \frac{cov_{x,y}}{ S_x * S_y }
\]  <br>
r measures the strength of a relationship, by measuring how closely the data falls along a straight line.      </p>
<p>Even though r is a ratio, it is not interpreted as a percentage.  However, \(r^2\) is a percentage of the variation in y explained by variation in x.  \(r^2\) is called the coefficient determination.       </p>
<p><strong>True Correlation of Population, rho, \( \rho \)</strong>     <br>
We usually perform hypothesis testing with t-tests.
\[
  H_{0} : \rho = 0 \\
  H_{1} : \rho \gt 0 \\
  H_{1} : \rho \lt 0 \\
  H_{1} : \rho \ne 0
\]</p>
<p><strong>Causation vs Correlations</strong>    <br><strong>Causation</strong> - One variable caused another to happen.     </p>
<p><strong>Correlation</strong> - There is a relationship between two variables.  But there are lots of lurking variables.  For example, there are two variables X and Y.  They could have a relationship because both of them are influenced by variable A, or Y is influenced by X <strong>through</strong> variable A.  In this case, variable A is called the mediating variable.  </p>
<p>To make a causal statement: <br>
     - the independent variable would have to occur BEFORE the dependent variable.<br>
     - have to rule out other lurking variables too</p>
<p><strong>Fallacies</strong>  <br>
Ambiguous Temporal Precedence - we don't know which variable happens first.   <br>
Third variable problem    <br>
Post-hoc fallacy      </p>
<p><strong>t value and Correlation Coefficient, (r)</strong>   <br>
t value and r:
\[
  t = \frac{r  \sqrt{N-2}}{\sqrt{1-r^2}}
\]
where \(df\) is \( N - 2 \)</p>
</div>
    </div>
    </article><article class="post h-entry post-text"><header><h1 class="post-title p-name"><a href="inferential-statistics/lesson-13/" class="u-url">Inferential Statistics - ANOVA Continued.</a></h1>
        <div class="metadata">
            <span class="post-date dateline"><time class="published dt-published" datetime="2016-11-03T21:55:35+08:00" title="2016-11-03 21:55">2016-11-03 21:55</time></span>
        </div>
    </header><div class="e-content entry-content">
    <div>
<p>One of the popular Multiple Comparison Tests is Tukey's Honestly Significant Differences.    <br><strong>Tukey's Honestly Significant Differences (HSD)</strong>  <br>
Tukey's HSD is calculated as the following:
\[
\text{Tukey's HSD} = q * \sqrt{\frac{MS_{within}}{n}} \\
q \text{ is looked up with } df_{within} \text{ and } k \text{, the number of treatments/sample groups}   \\
n \text{ is the number of samples in one sample group}
\]   </p>
<p>If the mean difference between/among treatments are greater than Tukey's HSD, the difference is significant.    </p>
<p>Note this is very similar to Z test and T test. For Z tests, the margin of error is:
\[
\text{Margin of Error} = z * \frac{\sigma}{\sqrt{n}}
\]</p>
<p>Whereas for t tests, the margin of error is:
\[
\text{Margin of Error} = t * \frac{s}{\sqrt{n}}
\]</p>
<p><strong>Cohen's D for Multiple Comparisons</strong>  <br>
For normal comparisons, Cohen's D is calculated by
\[
\text{Cohen's D, } d = \frac{\bar{X_1} - \bar{X_2}}{SD_{pooled}}
\]   </p>
<p>In multiple comparisons, Cohen's D is calculated by
\[
\text{Cohen's D, } d = \frac{\bar{X_1} - \bar{X_2}}{\sqrt{MS_{within}}}
\]</p>
<p>Cohen's D is calculated per pair comparisons.  </p>
<p><strong>\( \mathbf{\eta ^ 2} \)</strong>  <br>
\( \eta ^2 \) is defined as the proportion of total variance that is due to between-group differences (explained variation).  </p>
<p>\[
\eta ^2 = \frac{SS_{between}}{SS_{total}} \\
      = \frac{SS_{between}}{SS_{between} + SS_{within}}
\]    </p>
<p><strong>Reporting Reports of Anova</strong>  <br>
We report the results of F Statistics as the following:   <br>
\[
   F(df_{between}, df_{within}) = 27 \quad p &lt; 0.05 \quad \eta ^2 = 0.90 \quad \\
   \text{p is estimated, by hand} \\
   F(df_{between}, df_{within}) = 27 \quad p = 0.001 \quad \eta ^2 = 0.90 \quad \\
   \text{exact p value calculated by software} \\
\]</p>
<p><strong>ANOVA for Groups with Different Sample Sizes</strong>  <br>
Grand mean
\[
  \text{Grand mean, } \bar{X_G} = \frac{ \sum_{j=0}^k n_j (\bar{x_j}) }{\sum_{j=0}^k n_j } \\
  n_j \text{ is sample size for each sample} \\<br>
  k \text{ is number of sample groups}      \\
\]    </p>
<p>SS (Sum of Squares) Between   <br>
\[
  \text{sum of squares, } SS_{between} = \sum_{j=0}^k n_j (\bar{x_j} - \bar{x_G})^2 \\
  n_j \text{ is sample size for each sample}   \\
\]    </p>
<p>SS (Sum of Squares) Within   <br>
\[
  \text{sum of squares, } SS_{within} = \sum_{i=0}^N (x_i - \bar{x_k})^2 \\
  k \text{ is number of sample groups}      \\
  N \text{ is total number of all samples of each sample group}     \\
\]    </p>
<p>DF (Degress of Freedom) Between   <br>
\[
  \text{degrees of freedom, } df_{between} = k - 1 \\
  k \text{ is number of sample groups}    \\
\]    </p>
<p>DF (Degress of Freedom) Within   <br>
\[
  \text{degrees of freedom, } df_{within} = N - k \\
  k \text{ is number of sample groups}      \\
  N \text{ is total number of all samples of each sample group}     \\
\]    </p>
<p>MS (Mean Squares) Between   <br>
\[
  \text{Mean square, } MS_{between} = \frac{SS_{between}}{df_{between}}  \\
  = \frac{\sum_{j=0}^k n_j (\bar{x_j} - \bar{x_G})^2}{k - 1}
\]    </p>
<p>MS (Mean Squares) Within   <br>
\[
\text{Mean square, } MS_{within} = \frac{SS_{within}}{df_{within}}  \\
= \frac{\sum_{i=0}^N (x_i - \bar{x_k})^2}{N - k}
\]    </p>
<p>F Stats
\[
\text{F Statistics, } F = \frac{MS_{between}}{MS_{within}}  \\
= \frac{\sum_{j=0}^k n_j (\bar{x_j} - \bar{x_G})^2 / (k - 1)}{\sum_{i=0}^N (x_i - \bar{x_k})^2 / (N - k)}
\]   </p>
<p><strong>\( \mathbf{\eta ^ 2} \)</strong><br>
\[
\eta ^2 = \frac{SS_{between}}{SS_{total}} \\
      = \frac{SS_{between}}{SS_{between} + SS_{within}}
\]  </p>
<p><strong>ANOVA Power</strong>  <br>
Increase POWER in order to avoid Type II statistical error where we fail to reject the null when there is a treatment effect.   </p>
<p>In the case of drug testing, we want to:  <br>
- test <strong>more people</strong>  <br>
- give each drug to <strong>very similar</strong> groups of people  <br>
- test with a <strong>strong</strong> dosage    </p>
<p><strong>ANOVA Assumptions &amp; Conclusions</strong>   <br>
We assume:  <br>
- <strong>Normality</strong>: the population of which our samples are from are all normally distributed.  <br>
- <strong>Homogeneity of Variance</strong>: the samples come from populations that have equal amount of variability.   <br>
- <strong>Independence of Observations</strong>: The results found from one samples won't affect the others.   </p>
<p>We could have the following exceptions:  <br>
- violate the normality if the sample is large  <br>
- violate the homogeneity of variance if:  <br>
        - almost equal sample sizes  <br>
        - ratio of any two variances doesn't exceed 4     <br>
-</p>
</div>
    </div>
    </article><article class="post h-entry post-text"><header><h1 class="post-title p-name"><a href="intro-data-analysis/1-data_analysis_process/" class="u-url">Intro to DA - Data Analysis Process</a></h1>
        <div class="metadata">
            <span class="post-date dateline"><time class="published dt-published" datetime="2016-10-14T13:57:55+08:00" title="2016-10-14 13:57">2016-10-14 13:57</time></span>
        </div>
    </header><div class="e-content entry-content">
    <div>
<h2>Data Analysis Process</h2>
<ol>
<li>
<strong>Question</strong>  <br>
    Problem begins with a question you want answer or problem you wanna solve.  For example:    <ul>
<li>Characters of students who pass projects</li>
<li>How can I stock stores with products that most people want to buy?</li>
</ul>
</li>
<li>
<strong>Wrangler</strong>    <ul>
<li>Data Acquisition   </li>
<li>Data Cleaning   </li>
</ul>
</li>
<li>
<strong>Explore</strong>   <ul>
<li>Building intuition</li>
<li>Finding patterns</li>
</ul>
</li>
<li>
<strong>Draw Conclusions</strong>   <br>
    This requires statistics and machine learning (that is beyond the scope of this course)<ul>
<li>Draw Conclusion =&gt; Users less likely to XXX</li>
<li>Make Prediction =&gt; Predict what products a user would like</li>
</ul>
</li>
<li>
<strong>Communicate</strong>  <ul>
<li>Blog post, paper, email, powerpoint, in-person conversation</li>
</ul>
</li>
</ol>
<p>The steps aren't always sequential.  We might go back and forth between data wrangling and exploration.  Along the process, one may go back to the question to further refine the question.  And data acquisition might occur before the question arises.</p>
<h2>Data Wrangling</h2>
<p>Data Types: <br>
Usually data acquired are in JSON or CSV (comma separated value) format.    </p>
</div>
    </div>
    </article><article class="post h-entry post-text"><header><h1 class="post-title p-name"><a href="inferential-statistics/lesson-12/" class="u-url">Inferential Statistics - One-Way ANOVA</a></h1>
        <div class="metadata">
            <span class="post-date dateline"><time class="published dt-published" datetime="2016-10-14T10:25:32+08:00" title="2016-10-14 10:25">2016-10-14 10:25</time></span>
        </div>
    </header><div class="e-content entry-content">
    <div>
<p>In lesson 11, we learned to perform t-tests for two independent samples.  However, in real statistical studies, there are a lot of times we need to compare more than two independent samples.  When we have \( n \) independent samples, the number of t-tests we need to perform are:
<!-- {n+1 \choose 2k} == \binom{n+1}{2k} -->
\[
  \text{no of t-tests with n samples} = \binom{n}{2} = \frac{n!}{2!(n-2)!}
\]</p>
<p>However, the same concept of t-test applies here.  Remember t is defined by a function of the distance apart from each other and the variability of each sample.
\[
  t_{statistic} = \frac{ \bar{X_1} - \bar{X_2}}{ \sqrt{ \frac{ S_p^2 }{ n_1 } + \frac{ S_p^2 }{ n_2 }}}
\]
When we compare 3 or more samples, we compare distance/variability between means (as numerator) and some kind of sample error (as the denominator)</p>
<p><strong>Think about this:</strong> <br>
Q: How can we compare three or more samples? <br>
A: Find the average squared deviation of each sample means.</p>
<p>Q: Will the <strong>Grand Mean</strong>, mean of the sample means be the same as the mean of all values in each sample? <br>
A: Sometimes.  Only when the sample sizes are equal for each sample, that the Grand Mean will be the same.</p>
<p><strong>Between Group Variability</strong> <br>
Between group variability is the variability between/among samples.   <br>
Q: What conclusions can we draw from the deviation of each sample mean from the mean of the means? <br>
A: The smaller the distance between sample means, the less likely the population means will defer significantly.  Vice versa the greater the distance between sample means, the more likely population means will differ significantly.  </p>
<p><strong>Within Group Variability</strong> <br>
Within group variability is the variability of the individual samples within a sample.  <br>
The greater the variability of each individual sample, the less likely population means will differ significantly.  (thinner, non overlapping normal distribution.) <br>
The smaller the variability of each individual sample, the more likely population means will differ significantly.  (wider, overlapping normal distribution)</p>
<p>Since we are analyzing the variabilities between samples and within samples, we call this Analysis of Variability (ANOVA).  We have one way ANOVA when we have one independent variable (sometimes called a factor)  </p>
<p><strong>F Statistics</strong> <br>
F statistics is the ratio of between group variability (numerator) to the within group variability (denominator)
If the between group variability is big, it constitutes to big F statistics, which results in rejecting the null hypothesis and accepting the alternative hypothesis.<br>
Whereas if the within group variability is large, it makes the F statistics small, which results in accepting the null hypothesis and rejecting the alternative hypothesis.</p>
<p>\[
F = \frac{ \text{between group variability}}{ \text{within group variability}} \\<br>
  = \frac{ \sum_{j=0}^k n_j (\bar{x_j} - \bar{x_G})^2 / (k-1)}{\sum_{i=0}^N  (x_i - \bar{x_k})^2 / (N-k) } \\
  n_j \text{ is sample size for each sample}   \\
  = \frac{ n \sum_{j=0}^k (\bar{x_j} - \bar{x_G})^2 / (k-1)}{\sum_{i=0}^N (x_i - \bar{x_k})^2 / (N-k) } \text{when sample size is same for all samples}  \\
  k \text{ is number of sample groups}      \\
  N \text{ is total number of all samples of each sample group}     \\
\]</p>
<p>F can also be formulated as
\[
F = \frac{SS_{between} / df_{between}}{SS_{within} / df_{within}} \text{ where } SS \text{ stands for Sum of Squares }      \\
  = \frac{MS_{between}}{MS_{within}} \text{ where } MS \text{ stands for Mean Square }
\]</p>
<p>Note that \(df_{between}\) is \( k - 1 \) while \(df_{within}\) is \( N - k \)</p>
<p>If we add \(df_{between}\) and \(df_{within}\) up, we get \( N - 1\) which is the total degree of freedom \(df_{total}\)
\[
df_{total} = df_{between} + df_{within} \\
= N - 1
\]</p>
<p>Similarly, the total variation \(SS_{total}\) is the sum of \(SS_{between}\) and \(SS_{within}\).<br>
\[
SS_{total} = SS_{between} + SS_{within} \\
= \sum{(x_i - \bar{x_G}) ^ 2}
\]</p>
</div>
    </div>
    </article><article class="post h-entry post-text"><header><h1 class="post-title p-name"><a href="inferential-statistics/lesson-11/" class="u-url">Inferential Statistics - T-Test, Independent Samples</a></h1>
        <div class="metadata">
            <span class="post-date dateline"><time class="published dt-published" datetime="2016-10-11T12:35:53+08:00" title="2016-10-11 12:35">2016-10-11 12:35</time></span>
        </div>
    </header><div class="e-content entry-content">
    <div>
<p><strong>Dependent Samples (Repeated Measures)</strong> deals with within-subject designs.<br>
Types of Dependent Samples:</p>
<ul>
<li>Two conditions (a control group and a treatment group, OR two groups with two types of treatment)</li>
<li>Longitudinal (same subject group measured two different points in time)</li>
<li>Pre-test, Post-test (subject group measure before and after treatment)</li>
</ul>
<p>Pros:</p>
<ul>
<li>Controls for individual differences:<ul>
<li>Use fewer subjects</li>
<li>More cost-effective</li>
<li>Less time-consuming</li>
<li>Less expensive</li>
</ul>
</li>
</ul>
<p>Cons:</p>
<ul>
<li>Carry-over effect:<ul>
<li>The second measurement might be affected by the first treatment</li>
</ul>
</li>
<li>The order in which treatments were given might influence the results</li>
</ul>
<h2>Independent Samples:</h2>
<p>Independent Samples deals with between-subject designs.
Types of Independent Samples:</p>
<ul>
<li>Experimental</li>
<li>Observational</li>
</ul>
<p>Pros:</p>
<ul>
<li>Control for carry-over effect:<ul>
<li>The second measurement less likely be affected by the first treatment</li>
</ul>
</li>
<li>The order in which treatments no longer influence the results</li>
</ul>
<p>Cons:</p>
<ul>
<li>Little/no control for individual differences:</li>
<li>Need more subjects</li>
<li>Less cost-effective</li>
<li>More time-consuming</li>
<li>More expensive</li>
</ul>
<h2>Two-Sample Tests</h2>
<p>Considering two independent normally distributed samples collected, when we subtract those two data, we get a new dataset.<br>
\[
    N ( \mu_{1}, \sigma_{1} ) - N ( \mu_{2}, \sigma_{2} ) = N ( \mu_{1} - \mu_{2}, \sqrt{ \sigma_{1}^2 + \sigma_{2}^2 } )
\]</p>
<p>The standard deviation, \( SD \) would be:
\[
    SD = \sqrt{ SD_{1}^2 + SD_{2}^ 2 }
\]</p>
<p>The standard error, \( SE \) would be:
\[
    SE = \sqrt{ \frac{SD_{1}^2}{n_{1}} + \frac{SD_{2}^2}{n_2}}
\]</p>
<p>The t statistic, \( t_{statistic} \) would be:
\[
    t_{statistic} = \frac{ (\bar{x_{1}} - \bar{x_{2}} ) - (\mu_{1} - \mu_{2})}{ SE }
\]</p>
<p>The degree of freedom, \( df \) would be:
\[
    df = (n_{1} - 1) + (n_{2} - 1) = n_{1} + n_{2} - 2
\]
or the smaller value between
\(
(n_{1} - 1) \text{ and } (n_{2} - 1)
\).</p>
<h2>Pooled Variance</h2>
<p>Pooled variance is a method for estimating variance
given several different samples taken in different circumstances where the mean may vary
between samples but the true variance is assumed to remain the same. The pooled variance is
computed by using
The Pooled Variance, \( S_{p}^2 \) would be:
\[
    S_{p}^2 = \frac{(SS_{x} + SS_{y})}{df_{x} + df_{y}}
\]
where \( SS_{x} = \sum (x_{i} - \bar{x})^ 2 \)
and \( SS_{y} = \sum (y_{i} - \bar{y})^ 2 \)</p>
<p>The Standard Error, \( SE_{(\bar{x}-\bar{y})} \), using Pooled Variance is:</p>
<p>\[
    SE_{(\bar{x}-\bar{y})} = \sqrt{ \frac{S_{p}^2}{n_x} + \frac{S_{p}^2}{n_y} }
\]</p>
<p>The full t statistic \( t_{statistic} \) formula would be:
\[
    t_{statistic} = \frac{ (\bar{x} - \bar{y}) - \delta }{ SE_{(\bar{x}-\bar{y})} }
\]
\(\bar{x} - \bar{y} \) is called the observed difference.
The \( \delta \)expected_diff is derived from the Null Hypothesis, \( H_0 \), when
\[
    H_0: \mu_x - \mu_y = \delta
\]
There are lots of cases where \( \delta \) was assumed 0.  </p>
<p>When we use Pooled Variance, we hold the following assumptions:
1. X and Y should be two random samples from two independent populations. <br>
2. Populations that X and Y come from, should be approximately normal.  This is less important when sample size is really large ( &gt;30).<br>
3. Sample data can be used to estimate population variances.
4. Population variances should be roughly equal.</p>
</div>
    </div>
    </article><article class="post h-entry post-text"><header><h1 class="post-title p-name"><a href="inferential-statistics/lesson-10/" class="u-url">Inferential Statistics - T-Test, Dependent Samples</a></h1>
        <div class="metadata">
            <span class="post-date dateline"><time class="published dt-published" datetime="2016-09-29T13:09:03+08:00" title="2016-09-29 13:09">2016-09-29 13:09</time></span>
        </div>
    </header><div class="e-content entry-content">
    <div>
<h2>T-Test</h2>
<p>Z-test works when we know the population parameters such as \( \mu \) and \( \sigma \).  For any samples drawn from this population, the samples would form a sampling distribution that is a normal distribution, with:
\[
    mean = \mu  \quad\text{where M is mean of sample means}\\
    SD = \frac{\sigma}{\sqrt{n}} \quad\text{where n is sample size}
\]
\( SD \) is also known as Standard Error \( SE \) which is used for Z score calculation.</p>
<p>For any sample mean, \( M \), we can determine where it falls on this sampling distribution by standardizing, aka, finding the z-score \( Z \), given its formula below:
\[
    Z = \frac{M - \mu}{ SE }
\]</p>
<p>However, much of the times, with sample data, we don't know population \( \mu \) and population standard deviation \( \sigma \). We only have samples which we must use to draw all our conclusions.  </p>
<p>When working with samples, we usually estimate the population standard deviation using the sample standard deviation with Bassel's correction.<br>
\[
  S =  \sqrt{ \frac{ \sum_1^n{ (x_{i} - \bar{x}) ^ 2 }} { n-1 } } \\
  where S is estimated population standard deviation, n is sample size
\]</p>
<p>Without population parameters and with only sample data, we end up with a new distribution that is more prone to error, called the t-distribution. The t-distribution is more spread out and thicker in the tails.  </p>
<p>Same principals applies to t-distribution.  When n increases:</p>
<ul>
<li>the t-distribution approaches a normal distribution</li>
<li>the t-distribution gets skinner tails</li>
<li>S, the estimated population standard deviation, gets closer to the real population standard deviation \( \mu \).  </li>
</ul>
<p>With t-distribution and t-test, we can determine:</p>
<ol>
<li>How different a sample mean is from a population mean</li>
<li>How different two sample means are from each other.  These two samples can be either:<ul>
<li>dependent</li>
<li>independent</li>
</ul>
</li>
</ol>
<h2>Degrees of Freedom</h2>
<p>t-distribution are defined by degrees of freedom, \(df\), which generally is \( n - 1 \) for single dimension data.  The \(df\) for 2D or 3D sample is \[df = (n-1)^d\;\text{where power d is the number of dimension}\]
Degrees of freedom are the number of pieces of information that can be freely varied, without violating any given restrictions.  It is pieces of independent information to estimate another piece of information. As the degrees of freedom increases, it better approximates the normal distribution.
\( n - 1 \) is also known as the effective sample size.  As shown above, it is used to estimate the population standard deviation with Basel's correction.  </p>
<h2>Hypothesis Testing with t-statistics</h2>
<p>Like the z-test, if the t-statistic falls far from the mean, where t-statistic is 0, we reject the null. To do so, we compare the sample mean to population mean, by calculating t-statistic.</p>
<p>For one sample t-test, the t-statistic is:
\[
    t = \frac{\bar{x} - \mu_{0}}{S/\sqrt{n}} \text{where:}\\
    \bar{x}\text{ is sample mean}\\
    \mu_{0}\text{ is population mean}\\
    S \text{ is standard error, aka. standard deviation of sample}\\
    n \text{ is the sample size}
\]
The sample mean, \(\bar{x}\) is also the point estimate for the population mean.
t-statistics increases when:</p>
<ul>
<li>a larger difference between \(\bar{x}\) and \(\mu_{0}\)</li>
<li>larger \( n \)</li>
</ul>
<p>For hypothesis testing:</p>
<ul>
<li>The <strong>larger</strong> the value of \(\bar{x}\), the stronger the evidence that \(\mu \gt \mu_{0}\).</li>
<li>The <strong>smaller</strong> the value of \(\bar{x}\), the stronger the evidence that \(\mu \lt \mu_{0}\).</li>
<li>The further the value of \(\bar{x}\) from \(\mu_{0}\) in either direction, the stronger the evidence that \(\mu \neq \mu_{0}\).</li>
</ul>
<p>We reject the null hypothesis if the t-statistic is less than or greater than the t-critical value, at a given \( \alpha \) level.</p>
<h2>P-Value</h2>
<p>For one-tailed test, the P-value is the probability above the t-statistic if it is positive, and below the t-statistic if it is negative.  For two tailed test, the p-value will be the sum of probability on both ends.  We reject the null hypothesis when the p-value is less than the \( \alpha \) level.</p>
<p>After calculating the t-statistic, we go to <a href="http://www.graphpad.com/quickcalcs/pValue1/" title="P-Value with t and DF">GraphPad</a> to get the exact P-value. There are also other calculators on <a href="http://www.graphpad.com/" title="GraphPad Calculators">GraphPad</a> that are worth checking out.  </p>
<h2>Cohen's d</h2>
<p>Cohen's d is another common measure of effect size, when comparing means, named after Jacobs Cohen.  It is a <strong>standardized mean difference</strong> that measures the distance between 2 means in standard deviation units.
\[
    Cohen's d = \frac{\bar{x} - \mu_{0}}{S} \\
    where\;\bar{x}\text{ is sample mean, }\mu_{0}\text{ is population mean, and }S\text{ is sample standard deviation}
\]</p>
<h2>Confidence Interval</h2>
<p>Confidence interval is the interval where the population mean will probably lie.<br>
At a given confidence level, or alpha level, we first determine the t-critical value.<br>
Confidence interval for a two-tailed test is:
\[
  \begin{align}
    CI &amp; = M \pm t_{critical, \alpha} \cdot SE_{sample} \\
    &amp; = M \pm t_{critical, \alpha} \cdot \frac{S}{\sqrt{n}}
  \end{align}
\]</p>
<h2>Margin of Error</h2>
<p>Margin of Error is one-half width of the confidence interval.  CI's upper bound is sample mean, \(M + t_{critical} \cdot \frac{S}{\sqrt{n}} \) plus margin of error; whereas CI's lower bound is sample mean, \( M - t_{critical} \cdot \frac{S}{\sqrt{n}} \).  Therefore:
\[
  Margin\;of\;Error = t_{critical} \cdot \frac{S}{\sqrt{n}}
\]</p>
<h2>Dependent t-tests</h2>
<p>Dependent samples are generated when the same subject takes the test twice.  This is a within subject design.  Examples:</p>
<ul>
<li>when same subject is applied two conditions</li>
<li>subject is given a pre-test and post-test</li>
<li>longitudinal study (development over time)</li>
</ul>
<p>The within-subject designs generate paired data.  Then we look at the difference between these two sets of data, \( D_{i} \)</p>
<h2>Types of Designs</h2>
<ol>
<li>Repeated measures design (eg errors on two types of keyboards)
\[ H_{0}: \mu_{1} = \mu_{2} \]</li>
<li>Longitudinal design
\[ H_{0}: \mu_{time1} = \mu_{time2} \]</li>
<li>Pre-test vs Post-test
\[ H_{0}: \mu_{pre} = \mu_{post} \]</li>
</ol>
<h2>Effect Size</h2>
<p>In experimental studies, Effect Size refers to the size of a treatment effect.  In non-experimental studies, Effect Size may refer to the strength of the relationships between the variables.  </p>
<p>In the Z-test or one sample t-test, the mean difference is \( \bar{x} - \mu \).  Mean differences is great when we variables with easy to understand meanings.</p>
<h3>Types of Effect Size Measures</h3>
<p>There are many Effect Size measures, but they all fall into two main groups:</p>
<ol>
<li>
<p>Difference Measures:</p>
<ul>
<li>Mean difference</li>
<li>standardized difference<ul>
<li>Cohen's d (in SD units)</li>
</ul>
</li>
</ul>
</li>
<li>
<p>Correlation Measures:</p>
<ul>
<li>\( r^2 \): the proportion (or %) of variation of one variable that is related to ("explained by") another variable.<br>
    \[ r^2 = \frac{ t^2 }{ t^2 + df } \\
        where\; t \text{ is t statistics, not } t_{critical} \text{ and } df \text{ is degree of freedom}
    \]</li>
<li>\( r^2 \) is also known as the coefficient of determination.</li>
</ul>
</li>
</ol>
<h2>Statistical Significance</h2>
<p>Statistical Significant means:
- we reject the null
- results are not likely due to chance (sampling error)</p>
<h2>Meaningfulness of Results</h2>
<ul>
<li>What was being measured?  Do/Does the variable(s) has any practical, social, theoretical importance?</li>
<li>Effect Size: Small effect size doesn't necessarily mean the results have lower importance, and vice versa, large effect size doesn't necessarily means the results have greater importance.  </li>
<li>Can we rule out random chance/sampling errors?</li>
<li>Can we rule out alternative explainations? (lurking variables)</li>
</ul>
</div>
    </div>
    </article><article class="post h-entry post-text"><header><h1 class="post-title p-name"><a href="inferential-statistics/lesson-9/" class="u-url">Inferential Statistics - Hypothesis Testing</a></h1>
        <div class="metadata">
            <span class="post-date dateline"><time class="published dt-published" datetime="2016-09-20T17:36:10+08:00" title="2016-09-20 17:36">2016-09-20 17:36</time></span>
        </div>
    </header><div class="e-content entry-content">
    <div>
<h2>Hypothesis Test and Alpha Levels</h2>
<p>A Hypothesis test is used to test a claim that someone has about an observation may be different from the known population parameter.  </p>
<p><strong>Alpha level</strong> (<strong>\( \alpha \)</strong>) of a hypothesis test helps us determine the critical region of a distribution.  Refer to <a href="inferential-statistics/lesson-9/#critical-region">Critical Regions</a> below.</p>
<p><strong>Null Hypothesis</strong> is always an equality.  It is the claim we are trying to provide evidence <em>against</em>.  We commonly write the null hypothesis as one of the following:
\[  H_{0} : \mu_{0} = \mu\\  H_{0} : \mu_{0} \ge \mu\\  H_{0} : \mu_{0} \le \mu \]</p>
<p><strong>Null Hypothesis</strong> is result we are checking against the claim.  This is always some kind of inequality.  We commonly write the alternative hypothesis as one of the following:
\[  case\;a &gt;&gt; H_{0} : \mu_{0} \neq \mu\\  case\;b &gt;&gt; H_{0} : \mu_{0} \gt \mu\\  case\;c &gt;&gt; H_{0} : \mu_{0} \lt \mu \]</p>
<p>If we know which direction we are checking against the claim, use case b or case c, else we typically use case a.  Case a is a two tailed test, while case b and case c are one tailed tests.  Read more on this <a href="inferential-statistics/lesson-9/#one-tailed-two-tailed">below</a>.  </p>
<h2>
<a id="critical-region" name="critical-region"></a>Critical Regions</h2>
<p>When it comes to constructing a hypothesis test, it is best to choose a significant level before the test is performed.  The results of the test can be reported as significant a certain critical level, but it is important that you are not "fishing" for results before seeing the results in your sample.  For additional readings on Hypothesis Testing, here is an <a href="http://blog.minitab.com/blog/adventures-in-statistics/understanding-hypothesis-tests:-significance-levels-alpha-and-p-values-in-statistics" title="Hypothesis Testing">article</a>.  </p>
<p>The corresponding Z-critical values, \( Z_{critical} \) at each \( \alpha \) level for one-tailed test and two-tailed test respectively:
\[
\begin{array}{c|cc}
\alpha &amp; \text{one-tailed} &amp; \text{two-tailed} \\
\hline
0.05 &amp; 1.67 \; or\; -1.67 &amp; \pm 1.96 \\
0.01 &amp; 2.32 \; or\; -2.32 &amp; \pm 2.57 \\
0.001 &amp; 3.08 \; or\; -3.08 &amp; \pm 3.27
\end{array}
\]</p>
<p>If we get a sample mean in the critical region, then we decide that most likely those sample means by chance.  The \( Z_{critical} \) values are the same that we used to calculate confidence intervals.  </p>
<p>When we do statistical test, we'll set our own criteria for making a decision (in other words, we'll choose an alpha level). Then we decide if the probability of obtaining that sample mean is less than the alpha level (ie. sample means fall in the critical region, and \(Z\) is greater than \(Z_{critical}\)). Then if there is an evidence of an effect (of the intervention).</p>
<p>Note that we <strong>CANNOT prove</strong> if a hypothesis is true.  We can only obtain evidence to reject the null hypothesis.  </p>
<p><strong>Example</strong>:
A null hypothesis says "Most (more than 50%) dogs have four legs." and the alternative hypothesis says "Most dogs have less than four legs."</p>
<p>In a sample of 10 dogs, there are 6 dogs with less than four legs.  </p>
<p>In this case we are taking 50% as significance level.  We are able to reject the null hypothesis based on this.  Under a typical statistical test (such as using a 5% significance level), this sample data would be evidence against null hypothesis, but not necessarily enough evidence/information to reject the null hypothesis.  </p>
<p>However, if the definition of null hypothesis was changed to indicate 70% of dogs have four legs, then our current evidence would be enough to reject the null hypothesis to reject the null hypothesis at a 5% significance level.  </p>
<h2>
<a id="one-tailed-two-tailed" name="one-tailed-two-tailed"></a> One Tailed and Two Tailed</h2>
<p>Take a hypothesis test:
\[
    H_{0}:
    \begin{cases}
      \mu = \mu_{I},  &amp; \mu_{I} \text{is post intervention}
    \end{cases} \\
    H_{A}:
    \begin{cases}
      \mu \lt \mu_{I},  &amp; \text{right one-tailed, with } \mu_{I} \text{ greater than } \mu \\
      \mu \gt \mu_{I},  &amp; \text{left one-tailed, with } \mu_{I} \text{ less than } \mu \\
      \mu \neq \mu_{I},  &amp; \text{right one-tailed, with } \mu_{I} \text{ greater or less than } \mu
    \end{cases}
\]</p>
<p>We choose a one-tailed, or directional hypothesis test when we predict a direction of the treatment effect.  Alternatively, when we do not predict the direction of the treatment, we choose the two-tailed or non-directional test.  In general we use two-tailed because it is more conservative.  We are less likely to reject the null when it is true.  It also prevents us from mistaking the wrong direction of the effect.  </p>
<h2>Decision Errors</h2>
<p>There are two types of Hypothesis Decision Errors:
<strong>Type I error</strong>: is when you reject the null when the null hypothesis is actually true.<br><strong>Type II error</strong>: is when you fail to reject the null when the null hypothesis is actually false.  </p>
</div>
    </div>
    </article><article class="post h-entry post-text"><header><h1 class="post-title p-name"><a href="inferential-statistics/lesson-8/" class="u-url">Inferential Statistics - Estimation</a></h1>
        <div class="metadata">
            <span class="post-date dateline"><time class="published dt-published" datetime="2016-09-14T12:33:51+08:00" title="2016-09-14 12:33">2016-09-14 12:33</time></span>
        </div>
    </header><div class="e-content entry-content">
    <div>
<h3>Lesson 8: Estimation</h3>
<ol>
<li>Any sampling distribution is a normal distribution.   </li>
<li>The sample mean, \( M \), approximately equal to the population mean, i.e. \( M \approx \mu \).  </li>
<li>The standard error of the sample, SE, is approximately equals to:
    \[ SE = \frac{\sigma}{\sqrt{n}} \] where \( n \) is sample size, and \( \sigma \) is standard deviation of the population.  </li>
<li>On any sampling distribution, approximately 68% of population falls within \(\pm 1 \frac{ \sigma }{ \sqrt{n} } \) of the sample mean \( M \).</li>
<li>On any sampling distribution, approximately 95% of population falls within \(\pm 2 \frac{ \sigma }{ \sqrt{n} } \) of the sample mean \( M \).</li>
<li>The distance, \( Z * \frac{ \sigma }{ \sqrt{n} } \) or is called <strong>Margin of Error</strong>.  The margin of error is half the width of the confidence interval.</li>
<li>
<strong>Point estimation</strong> involves the use of sample data to calculate a single value which is to serve as a "best guess" or "best estimate" of an unknown population parameter.</li>
<li>An "intervention" is a factor that we expect will change the population parameters.</li>
<li>Given the sample mean of a sample with intervention is \( M \), \( M \) serves as a point estimate of the mean of the whole population if the intervention is applied to the whole population.  However, the exact value of the population mean, \( \mu \), does not exactly equal to \( M \).   </li>
<li>With a <strong>95% Confidence Interval</strong> (2 Standard Error, SE), we estimate the population mean with the same intervention, \( \mu \) falls in a range, based on the following:
    \[ \mu - 2 \frac{ \sigma }{ \sqrt{n}} \lt M \lt \mu + 2 \frac{ \sigma }{ \sqrt{n} } \]
    \[ - 2 \frac{ \sigma }{ \sqrt{n}} \lt M - \mu \lt + 2 \frac{ \sigma }{ \sqrt{n} } \]
    \[ - M - 2 \frac{ \sigma }{ \sqrt{n}} \lt - \mu \lt - M + 2 \frac{ \sigma }{ \sqrt{n} } \]
    \[ M + 2 \frac{ \sigma }{ \sqrt{n}} \gt \mu \gt M - 2 \frac{ \sigma }{ \sqrt{n} } \]
    \[  M - 2 \frac{ \sigma }{ \sqrt{n} } \lt \mu \lt M + 2 \frac{ \sigma }{ \sqrt{n}} \]</li>
<li>If we apply the above formula with 1 standard error, 1 SE, that gives us an range of which the population mean (with same intervention), with <strong>68% Confidence Interval</strong>, to be:
    \[  M - \frac{ \sigma }{ \sqrt{n} } \lt \mu \lt M + \frac{ \sigma }{ \sqrt{n}} \]</li>
<li>The Z-value that bounds 95% of the data is <strong>-1.96 through +1.96</strong>.  That means for a sampling distribution, 95% of the sample means fall within 1.96 standard errors (SE) away from the population mean. It is also the <strong>95% Confidence Interval</strong>.   </li>
<li>A <strong>"treatment effect"</strong> occurs when the intervention affects the population mean. When the sample mean is far on the tails of the sampling distribution, and therefore unlikely to have occurred by chance, there is evidence for a treatment effect.</li>
<li>If we want a higher confidence interval (CI), say, <strong>98% Confidence Interval</strong>, the z-score should be 2.33.  98% of the sample means fall within 2.33 standard error (SE) away from the population mean.  </li>
<li>\( \pm 2.33 \) are the critical values of Z for 98% confidence.  </li>
<li>\( \pm 1.96 \) are the critical values of Z for 95% confidence.</li>
</ol>
</div>
    </div>
    </article><article class="post h-entry post-text"><header><h1 class="post-title p-name"><a href="python-crash-notes/08-testing/" class="u-url">Testing Python Code</a></h1>
        <div class="metadata">
            <span class="post-date dateline"><time class="published dt-published" datetime="2016-09-07T16:55:02+08:00" title="2016-09-07 16:55">2016-09-07 16:55</time></span>
        </div>
    </header><div class="e-content entry-content">
    <div>
<h3>Testing a Function</h3>
<ul>
<li>name_function.py</li>
</ul>
<pre class="code literal-block"><span></span>  <span class="k">def</span> <span class="nf">get_formatted_name</span><span class="p">(</span><span class="n">first</span><span class="p">,</span> <span class="n">last</span><span class="p">):</span>
    <span class="sd">""" Generated a Neatly formatted full name """</span>
    <span class="n">full_name</span> <span class="o">=</span> <span class="n">first</span> <span class="o">+</span> <span class="s1">' '</span> <span class="o">+</span> <span class="n">last</span>
    <span class="k">return</span> <span class="n">full_name</span><span class="o">.</span><span class="n">title</span><span class="p">()</span>
</pre>


<ul>
<li>names.py</li>
</ul>
<pre class="code literal-block"><span></span>  <span class="kn">from</span> <span class="nn">name_function</span> <span class="kn">import</span> <span class="n">get_formatted_name</span>

  <span class="k">print</span><span class="p">(</span><span class="s2">"Enter 'q' to quit any time."</span><span class="p">)</span>
  <span class="k">while</span> <span class="bp">True</span><span class="p">:</span>
    <span class="n">first</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">"</span><span class="se">\n</span><span class="s2">First Name: "</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">first</span> <span class="o">==</span> <span class="s1">'q'</span><span class="p">:</span>
      <span class="k">break</span>
    <span class="n">last</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">"</span><span class="se">\n</span><span class="s2">Last Name: "</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">last</span> <span class="o">==</span> <span class="s1">'q'</span><span class="p">:</span>
      <span class="k">break</span>
    <span class="n">formatted_name</span> <span class="o">=</span> <span class="n">get_formatted_name</span><span class="p">(</span><span class="n">fist</span><span class="p">,</span> <span class="n">last</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="s2">"</span><span class="se">\t</span><span class="s2">Neatly formatted name: "</span> <span class="o">+</span> <span class="n">formatted_name</span> <span class="o">+</span> <span class="s2">"."</span><span class="p">)</span>
</pre>


<h4>Unit Tests and Test Cases</h4>
<ul>
<li>A <em>unit test</em> verifies that one specific aspect of a function's behavior is correct.  </li>
<li>A <em>test case</em> is a collection of unit tests that together prove that a function behaves as it's supposed to, within the full range of situations it is expected to handle.  </li>
<li>A test case with <em>full coverage</em> includes a full range of unit tests covering all the possible ways you can use a function.  Achieving full coverage on a large project can be daunting.  Aim for full coverage only if project starts to see widespread use.  </li>
<li>test_name_function.py (an example test case for name_function.py)</li>
</ul>
<pre class="code literal-block"><span></span>  <span class="kn">import</span> <span class="nn">unittest</span>
  <span class="kn">from</span> <span class="nn">name_function</span> <span class="kn">import</span> <span class="n">get_formatted_name</span>

  <span class="k">class</span> <span class="nc">NamesTestCase</span><span class="p">(</span><span class="n">unittest</span><span class="o">.</span><span class="n">TestCase</span><span class="p">):</span>
    <span class="sd">""" Test for 'name_function.py' """</span>

    <span class="k">def</span> <span class="nf">test_first_last_name</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
      <span class="sd">""" Do names like 'Janis Joplin' work? """</span>
      <span class="n">formatted_name</span> <span class="o">=</span> <span class="n">get_formatted_name</span><span class="p">(</span><span class="s1">'janis'</span><span class="p">,</span> <span class="s1">'joplin'</span><span class="p">)</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">formatted_name</span><span class="p">,</span> <span class="s1">'Janis Joplin'</span><span class="p">)</span>

  <span class="n">unittest</span><span class="o">.</span><span class="n">main</span><span class="p">()</span> <span class="c1"># tells python to run the test.</span>
</pre>


<ul>
<li>
<code>python3 test_name_function.py</code> in CLI to run.  For now, test will pass.  </li>
<li>name_function.py (modified)</li>
</ul>
<pre class="code literal-block"><span></span>  <span class="k">def</span> <span class="nf">get_formatted_name</span><span class="p">(</span><span class="n">first</span><span class="p">,</span> <span class="n">middle</span><span class="p">,</span> <span class="n">last</span><span class="p">):</span>
    <span class="sd">""" Generated a Neatly formatted full name """</span>
    <span class="n">full_name</span> <span class="o">=</span> <span class="n">first</span> <span class="o">+</span> <span class="s1">' '</span> <span class="o">+</span> <span class="n">middle</span> <span class="o">+</span> <span class="s1">' '</span> <span class="o">+</span> <span class="n">last</span>
    <span class="k">return</span> <span class="n">full_name</span><span class="o">.</span><span class="n">title</span><span class="p">()</span>
</pre>


<ul>
<li>
<code>python3 test_name_function.py</code> will raise error.</li>
<li>name_function.py (modified again, to make <code>middle</code> optional)</li>
</ul>
<pre class="code literal-block"><span></span>  <span class="k">def</span> <span class="nf">get_formatted_name</span><span class="p">(</span><span class="n">first</span><span class="p">,</span> <span class="n">last</span><span class="p">,</span> <span class="n">middle</span><span class="o">=</span><span class="s1">''</span><span class="p">):</span>
    <span class="sd">""" Generated a Neatly formatted full name """</span>
    <span class="k">if</span> <span class="n">middle</span><span class="p">:</span>
      <span class="n">full_name</span> <span class="o">=</span> <span class="n">first</span> <span class="o">+</span> <span class="s1">' '</span> <span class="o">+</span> <span class="n">middle</span> <span class="o">+</span> <span class="s1">' '</span> <span class="o">+</span> <span class="n">last</span>
    <span class="k">else</span><span class="p">:</span>
      <span class="n">full_name</span> <span class="o">=</span> <span class="n">first</span> <span class="o">+</span> <span class="s1">' '</span> <span class="o">+</span> <span class="n">last</span>
    <span class="k">return</span> <span class="n">full_name</span><span class="o">.</span><span class="n">title</span><span class="p">()</span>
</pre>


<ul>
<li>
<code>python3 test_name_function.py</code> will pass again.</li>
<li>test_name_function.py (Add new test to test both cases)</li>
</ul>
<pre class="code literal-block"><span></span>  <span class="kn">import</span> <span class="nn">unittest</span>
  <span class="kn">from</span> <span class="nn">name_function</span> <span class="kn">import</span> <span class="n">get_formatted_name</span>

  <span class="k">class</span> <span class="nc">NamesTestCase</span><span class="p">(</span><span class="n">unittest</span><span class="o">.</span><span class="n">TestCase</span><span class="p">):</span>
    <span class="sd">""" Test for 'name_function.py' """</span>

    <span class="k">def</span> <span class="nf">test_first_last_name</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
      <span class="sd">""" Do names like 'Janis Joplin' work? """</span>
      <span class="n">formatted_name</span> <span class="o">=</span> <span class="n">get_formatted_name</span><span class="p">(</span><span class="s1">'janis'</span><span class="p">,</span> <span class="s1">'joplin'</span><span class="p">)</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">formatted_name</span><span class="p">,</span> <span class="s1">'Janis Joplin'</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">test_first_last_middle_name</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
      <span class="sd">""" Do names like 'Wolfgang Amadeus Mozart' work? """</span>
      <span class="n">formatted_name</span> <span class="o">=</span> <span class="n">get_formatted_name</span><span class="p">(</span><span class="s1">'wolfgang'</span><span class="p">,</span> <span class="s1">'mozart'</span><span class="p">,</span> <span class="s1">'amadeus'</span><span class="p">)</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">formatted_name</span><span class="p">,</span> <span class="s1">'Wolfgang Amadeus Mozart'</span><span class="p">)</span>

  <span class="n">unittest</span><span class="o">.</span><span class="n">main</span><span class="p">()</span> <span class="c1"># tells python to run the test.</span>
</pre>


<h4>A Variety of Assert Methods</h4>
<ul>
<li>assertEqual(a, b) :: Verify if a == b</li>
<li>assertNotEqual(a, b) :: Verify if a != b</li>
<li>assertTrue(x) :: Verify if x is True</li>
<li>assertFalse(x) :: Verify if x is False</li>
<li>assertIn(<em>item</em>, <em>list</em>) :: Verify that <em>item</em> is in <em>list</em>
</li>
<li>assertNotIn(<em>item</em>, <em>list</em>) :: Verify that <em>item</em> is NOT in <em>list</em>
</li>
</ul>
<h4>Testing a Class</h4>
<ul>
<li>survey.py</li>
</ul>
<pre class="code literal-block"><span></span>  <span class="k">class</span> <span class="nc">AnonymousSurvey</span><span class="p">():</span>
    <span class="sd">""" Collect anonymous answers to a survey question. """</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">question</span><span class="p">):</span>
      <span class="sd">""" Store a question, prepare to store responses. """</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">question</span> <span class="o">=</span>  <span class="n">question</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">responses</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="k">def</span> <span class="nf">show_question</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
      <span class="sd">""" Show the survey question """</span>
      <span class="k">print</span><span class="p">(</span><span class="n">question</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">store_response</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">new_response</span><span class="p">):</span>
      <span class="sd">""" Store a single response to the survey. """</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">responses</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">new_response</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">show_results</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
      <span class="sd">""" Show all responses that had been given """</span>
      <span class="k">print</span><span class="p">(</span><span class="s2">"Survey results:"</span><span class="p">)</span>
      <span class="k">for</span> <span class="n">response</span> <span class="ow">in</span> <span class="n">responses</span><span class="p">:</span>
        <span class="k">print</span><span class="p">(</span><span class="s1">'- '</span> <span class="o">+</span> <span class="n">response</span><span class="p">)</span>
</pre>


<ul>
<li>lang_survey.py</li>
</ul>
<pre class="code literal-block"><span></span>  <span class="kn">from</span> <span class="nn">survey</span> <span class="kn">import</span> <span class="n">AnonymousSurvey</span>

  <span class="n">question</span> <span class="o">=</span> <span class="s2">"What language did you first learn to speak? "</span> <span class="c1"># define question</span>
  <span class="n">survey</span> <span class="o">=</span> <span class="n">AnonymousSurvey</span><span class="p">(</span><span class="n">question</span><span class="p">)</span> <span class="c1"># instantiate a survey</span>

  <span class="n">survey</span><span class="o">.</span><span class="n">show_question</span><span class="p">()</span> <span class="c1"># show question</span>
  <span class="k">print</span><span class="p">(</span><span class="s2">"Enter 'q' any time to quit. </span><span class="se">\n</span><span class="s2">"</span><span class="p">)</span>
  <span class="k">while</span> <span class="bp">True</span><span class="p">:</span>
    <span class="n">response</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">"Language: "</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">response</span> <span class="o">==</span> <span class="s1">'q'</span><span class="p">:</span>
      <span class="k">break</span>
    <span class="n">survey</span><span class="o">.</span><span class="n">store_response</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>

  <span class="k">print</span><span class="p">(</span><span class="s2">"</span><span class="se">\n</span><span class="s2">Thank you for your participation. "</span><span class="p">)</span>
  <span class="n">survey</span><span class="o">.</span><span class="n">show_results</span><span class="p">()</span>
</pre>


<ul>
<li>test_survey.py (test case for survey.py)</li>
</ul>
<pre class="code literal-block"><span></span>  <span class="kn">import</span> <span class="nn">unittest</span>
  <span class="kn">from</span> <span class="nn">survey</span> <span class="kn">import</span> <span class="n">AnonymousSurvey</span>

  <span class="k">class</span> <span class="nc">TestAnonymousSurvey</span><span class="p">(</span><span class="n">unittest</span><span class="o">.</span><span class="n">TestCase</span><span class="p">):</span>
    <span class="sd">""" Test Case for class AnonymousSurvey """</span>

    <span class="k">def</span> <span class="nf">test_store_single_response</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
      <span class="sd">""" Test that a single response is stored properly """</span>
      <span class="n">question</span> <span class="o">=</span> <span class="s2">"What language did you first learn to speak? "</span> <span class="c1"># define question</span>
      <span class="n">survey</span> <span class="o">=</span> <span class="n">AnonymousSurvey</span><span class="p">(</span><span class="n">question</span><span class="p">)</span> <span class="c1"># instantiate a survey</span>
      <span class="n">survey</span><span class="o">.</span><span class="n">store_response</span><span class="p">(</span><span class="s1">'English'</span><span class="p">)</span>

      <span class="bp">self</span><span class="o">.</span><span class="n">assertIn</span><span class="p">(</span><span class="s1">'English'</span><span class="p">,</span> <span class="n">survey</span><span class="o">.</span><span class="n">responses</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">test_store_three_responses</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
      <span class="sd">""" Test that a single response is stored properly """</span>
      <span class="n">question</span> <span class="o">=</span> <span class="s2">"What language did you first learn to speak? "</span> <span class="c1"># define question</span>
      <span class="n">survey</span> <span class="o">=</span> <span class="n">AnonymousSurvey</span><span class="p">(</span><span class="n">question</span><span class="p">)</span> <span class="c1"># instantiate a survey</span>
      <span class="n">responses</span> <span class="o">=</span> <span class="p">[</span><span class="s1">'English'</span><span class="p">,</span> <span class="s1">'Spanish'</span><span class="p">,</span> <span class="s1">'Mandarin'</span><span class="p">]</span>
      <span class="k">for</span> <span class="n">resp</span> <span class="ow">in</span> <span class="n">responses</span><span class="p">:</span>
        <span class="n">survey</span><span class="o">.</span><span class="n">store_response</span><span class="p">(</span><span class="n">resp</span><span class="p">)</span>

      <span class="k">for</span> <span class="n">resp</span> <span class="ow">in</span> <span class="n">responses</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertIn</span><span class="p">(</span><span class="n">resp</span><span class="p">,</span> <span class="n">survey</span><span class="o">.</span><span class="n">responses</span><span class="p">)</span>
</pre>


<h4>The setUp() Method</h4>
<ul>
<li>As shown in the previous test_survey.py, we define question, create new instance of survey and new responses in each test methods.  The unittest.TestCase class has a setUp() method that allows you to reate these objects once and then use them in each of your test methods.  When a setUp() method is included, Python runs the setUp() method before running each method starting with _test__.  Any objects created in the setUp() method will be available in each test method you write.  </li>
<li>test_survey.py (refactored with setUp() method)</li>
</ul>
<pre class="code literal-block"><span></span>  <span class="kn">import</span> <span class="nn">unittest</span>
  <span class="kn">from</span> <span class="nn">survey</span> <span class="kn">import</span> <span class="n">AnonymousSurvey</span>

  <span class="k">class</span> <span class="nc">TestAnonymousSurvey</span><span class="p">(</span><span class="n">unittest</span><span class="o">.</span><span class="n">TestCase</span><span class="p">):</span>
    <span class="sd">""" Test Case for class AnonymousSurvey """</span>

    <span class="k">def</span> <span class="nf">setUp</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
      <span class="sd">""" Define question, create survey and a set of responses to be used in all test methods """</span>
      <span class="n">question</span> <span class="o">=</span> <span class="s2">"What language did you first learn to speak? "</span> <span class="c1"># define question</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">survey</span> <span class="o">=</span> <span class="n">AnonymousSurvey</span><span class="p">(</span><span class="n">question</span><span class="p">)</span> <span class="c1"># instantiate a survey</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">responses</span> <span class="o">=</span> <span class="p">[</span><span class="s1">'English'</span><span class="p">,</span> <span class="s1">'Spanish'</span><span class="p">,</span> <span class="s1">'Mandarin'</span><span class="p">]</span>

    <span class="k">def</span> <span class="nf">test_store_single_response</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
      <span class="sd">""" Test that a single response is stored properly """</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">survey</span><span class="o">.</span><span class="n">store_response</span><span class="p">(</span><span class="s1">'English'</span><span class="p">)</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">assertIn</span><span class="p">(</span><span class="s1">'English'</span><span class="p">,</span> <span class="n">survey</span><span class="o">.</span><span class="n">responses</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">test_store_three_responses</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
      <span class="sd">""" Test that a single response is stored properly """</span>
      <span class="k">for</span> <span class="n">resp</span> <span class="ow">in</span> <span class="n">responses</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">survey</span><span class="o">.</span><span class="n">store_response</span><span class="p">(</span><span class="n">resp</span><span class="p">)</span>
      <span class="k">for</span> <span class="n">resp</span> <span class="ow">in</span> <span class="n">responses</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertIn</span><span class="p">(</span><span class="n">resp</span><span class="p">,</span> <span class="n">survey</span><span class="o">.</span><span class="n">responses</span><span class="p">)</span>
</pre>
</div>
    </div>
    </article><article class="post h-entry post-text"><header><h1 class="post-title p-name"><a href="python-crash-notes/07-files-and-exceptions-and-storing-data/" class="u-url">Files and Exceptions and Storing Data</a></h1>
        <div class="metadata">
            <span class="post-date dateline"><time class="published dt-published" datetime="2016-09-07T15:05:56+08:00" title="2016-09-07 15:05">2016-09-07 15:05</time></span>
        </div>
    </header><div class="e-content entry-content">
    <div>
<h3>Files</h3>
<h4>Filepath</h4>
<ul>
<li>A <em>relative path</em> is a to look for a given location relative to the directory where the currently running program file is stored.  </li>
<li>An <em>absolute path</em> is exactly the file location on your computer, regardless of where the program being executed is stored.  </li>
<li>
<code>os.getcwd</code> returns current working directory.  Remember to <code>import os</code>.</li>
</ul>
<h4>Reading an Entire File</h4>
<ul>
<li>pi_digits.txt</li>
</ul>
<pre class="code literal-block"><span></span>3.1415926535
  8979323846
  2643383279
</pre>


<ul>
<li>file_reader.py</li>
</ul>
<pre class="code literal-block"><span></span>  <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">'pi_digits.txt'</span><span class="p">)</span> <span class="k">as</span> <span class="n">file_object</span><span class="p">:</span>
    <span class="n">contents</span> <span class="o">=</span> <span class="n">file_object</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
    <span class="k">print</span><span class="p">(</span><span class="n">contents</span><span class="p">)</span>
</pre>


<ul>
<li>output:</li>
</ul>
<pre class="code literal-block"><span></span>3.1415926535
  8979323846
  2643383279
</pre>


<ul>
<li>Note that output has an extra blank line, because read() returns an empty string when it reaches the end of the file.  To remove the extra blank line, use rstrip().  --&gt; <code>print(contents.rstrip())</code>
</li>
</ul>
<h4>Reading a File Line by Line</h4>
<ul>
<li>file_reader.py</li>
</ul>
<pre class="code literal-block"><span></span>  <span class="n">filename</span> <span class="o">=</span> <span class="s1">'pi_digits.txt'</span>
  <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span> <span class="k">as</span> <span class="n">file_object</span><span class="p">:</span>
    <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">file_object</span><span class="p">:</span>
      <span class="k">print</span><span class="p">(</span><span class="n">line</span><span class="o">.</span><span class="n">rstrip</span><span class="p">())</span> <span class="c1"># rstrip() removes the blank lines from .read()</span>
</pre>


<h4>Making a List of Lines from a File</h4>
<ul>
<li>file_reader.py</li>
</ul>
<pre class="code literal-block"><span></span>  <span class="n">filename</span> <span class="o">=</span> <span class="s1">'pi_digits.txt'</span>
  <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span> <span class="k">as</span> <span class="n">file_object</span><span class="p">:</span>
    <span class="n">lines</span> <span class="o">=</span> <span class="n">file_object</span><span class="o">.</span><span class="n">readlines</span><span class="p">()</span>

  <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">lines</span><span class="p">:</span>
    <span class="k">print</span><span class="p">(</span><span class="n">line</span><span class="o">.</span><span class="n">rstrip</span><span class="p">())</span> <span class="c1"># rstrip() removes the blank lines from .read()</span>
</pre>


<h4>Working with a File's Contents</h4>
<ul>
<li>file_reader.py</li>
</ul>
<pre class="code literal-block"><span></span>  <span class="n">filename</span> <span class="o">=</span> <span class="s1">'pi_digits.txt'</span>
  <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span> <span class="k">as</span> <span class="n">file_object</span><span class="p">:</span>
    <span class="n">lines</span> <span class="o">=</span> <span class="n">file_object</span><span class="o">.</span><span class="n">readlines</span><span class="p">()</span>

  <span class="n">pi_string</span> <span class="o">=</span> <span class="s1">''</span>
  <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">lines</span><span class="p">:</span>
    <span class="n">pi_string</span> <span class="o">+=</span> <span class="n">line</span><span class="o">.</span><span class="n">rstrip</span><span class="p">()</span> <span class="c1"># rstrip() removes the blank lines from .read()</span>

  <span class="k">print</span><span class="p">(</span><span class="n">pi_string</span><span class="p">)</span> <span class="c1"># prints 3.1415926535  8979323846  2643383279</span>
  <span class="k">print</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">pi_string</span><span class="p">))</span> <span class="c1"># prints 36 due to blank spaces for 2nd and 3rd lines</span>

  <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">lines</span><span class="p">:</span>
    <span class="n">pi_string</span> <span class="o">+=</span> <span class="n">line</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span> <span class="c1"># strip all blank spaces and lines</span>

  <span class="k">print</span><span class="p">(</span><span class="n">pi_string</span><span class="p">)</span> <span class="c1"># prints 3.141592653589793238462643383279</span>
  <span class="k">print</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">pi_string</span><span class="p">))</span> <span class="c1"># prints 32 due to blank spaces for 2nd and 3rd lines</span>
</pre>


<h4>Writing to a File</h4>
<ul>
<li>write_message.py</li>
</ul>
<pre class="code literal-block"><span></span>  <span class="n">filename</span> <span class="o">=</span> <span class="s1">'writing.txt'</span>
  <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="s1">'w'</span><span class="p">)</span> <span class="k">as</span> <span class="n">file_object</span><span class="p">:</span> <span class="c1"># 'w' denote writing mode</span>
    <span class="n">file_object</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">"I test writing."</span><span class="p">)</span>
    <span class="n">file_object</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">"I test writing second line."</span><span class="p">)</span>

  <span class="c1"># Both these sentences will be written in one /same line.  </span>
</pre>


<ul>
<li>Insert line break.  </li>
</ul>
<pre class="code literal-block"><span></span>  <span class="n">filename</span> <span class="o">=</span> <span class="s1">'writing.txt'</span>
  <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="s1">'w'</span><span class="p">)</span> <span class="k">as</span> <span class="n">file_object</span><span class="p">:</span> <span class="c1"># 'w' denote writing mode</span>
    <span class="n">file_object</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">"I test writing. </span><span class="se">\n</span><span class="s2">"</span><span class="p">)</span>
    <span class="n">file_object</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">"I test writing second line. </span><span class="se">\n</span><span class="s2">"</span><span class="p">)</span>

  <span class="c1"># Both these sentences will be written in separate line.  </span>
</pre>


<h4>Appending to a File</h4>
<ul>
<li>write_message.py</li>
</ul>
<pre class="code literal-block"><span></span>  <span class="n">filename</span> <span class="o">=</span> <span class="s1">'writing.txt'</span>
  <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="s1">'a'</span><span class="p">)</span> <span class="k">as</span> <span class="n">file_object</span><span class="p">:</span> <span class="c1"># 'a' denotes append</span>
    <span class="n">file_object</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">"I test writing more."</span><span class="p">)</span>
    <span class="n">file_object</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">"I test writing the last line."</span><span class="p">)</span>

  <span class="c1"># Both these sentences will be appended to previous file content.  </span>
</pre>


<h3>Exceptions</h3>
<ul>
<li>Python uses exceptions to manage errors that arise during a program's execution.  It is advisable to write code that handles exceptions properly so the program continues running.  If not, the program will halt and show a <em>traceback</em>, which includes a report of the exception that was raised.</li>
<li>A couple of common Python exceptions are ZeroDivisionError and FileNotFound exceptions.</li>
</ul>
<h4>try-except-else block</h4>
<ul>
<li>division.py (example of try-except block)</li>
</ul>
<pre class="code literal-block"><span></span>  <span class="k">print</span><span class="p">(</span><span class="s2">"Give me two numbers, I will divide them."</span><span class="p">)</span>
  <span class="k">print</span><span class="p">(</span><span class="s2">"Enter 'q' to quit."</span><span class="p">)</span>

  <span class="k">while</span> <span class="bp">True</span><span class="p">:</span>
    <span class="n">first_num</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">"</span><span class="se">\n</span><span class="s2">First Number: "</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">first_num</span> <span class="o">==</span> <span class="s1">'q'</span><span class="p">:</span>
      <span class="k">break</span>
    <span class="n">sec_num</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">"</span><span class="se">\n</span><span class="s2">Second Number: "</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">sec_num</span> <span class="o">==</span> <span class="s1">'q'</span><span class="p">:</span>
      <span class="k">break</span>

    <span class="k">try</span><span class="p">:</span>
      <span class="n">answer</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">first_num</span><span class="p">)</span> <span class="o">/</span> <span class="nb">int</span><span class="p">(</span><span class="n">sec_num</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">ZeroDivisionError</span><span class="p">:</span>
      <span class="k">print</span><span class="p">(</span><span class="s2">"You can't divide by 0!"</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span> <span class="c1"># proceed if no ZeroDivisionError exception</span>
      <span class="k">print</span> <span class="n">answer</span>
</pre>


<ul>
<li>alice.py (example of handling FileNotFound exception)</li>
</ul>
<pre class="code literal-block"><span></span>  <span class="n">filename</span> <span class="o">=</span> <span class="s1">'alice.txt'</span>

  <span class="k">try</span><span class="p">:</span>
    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span> <span class="k">as</span> <span class="n">fobj</span><span class="p">:</span>
      <span class="n">contents</span> <span class="o">=</span> <span class="n">fobj</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
  <span class="k">except</span> <span class="n">FileNotFoundError</span><span class="p">:</span>
    <span class="n">msg</span> <span class="o">=</span> <span class="s2">"Sorry, the file "</span> <span class="o">+</span> <span class="n">filename</span> <span class="o">+</span> <span class="s2">" doesn't exist. "</span>
    <span class="k">print</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
  <span class="k">else</span><span class="p">:</span>
    <span class="n">words</span> <span class="o">=</span> <span class="n">contents</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>
    <span class="n">word_count</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">words</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="s2">"The file "</span> <span class="o">+</span> <span class="n">filename</span> <span class="o">+</span> <span class="s2">" has about "</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">word_count</span><span class="p">)</span> <span class="o">+</span> <span class="s2">" words."</span><span class="p">)</span>
</pre>


<ul>
<li>word_count.py (example of working with multiple files)</li>
</ul>
<pre class="code literal-block"><span></span>  <span class="k">def</span> <span class="nf">count_words</span><span class="p">(</span><span class="n">filename</span><span class="p">):</span>
    <span class="sd">""" Count the approximate number of words in a file """</span>
    <span class="k">try</span><span class="p">:</span>
      <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span> <span class="k">as</span> <span class="n">fobj</span><span class="p">:</span>
        <span class="n">contents</span> <span class="o">=</span> <span class="n">fobj</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
    <span class="k">except</span> <span class="n">FileNotFoundError</span><span class="p">:</span>
      <span class="n">msg</span> <span class="o">=</span> <span class="s2">"Sorry, the file "</span> <span class="o">+</span> <span class="n">filename</span> <span class="o">+</span> <span class="s2">" doesn't exist. "</span>
      <span class="k">print</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
      <span class="n">words</span> <span class="o">=</span> <span class="n">contents</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>
      <span class="n">word_count</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">words</span><span class="p">)</span>
      <span class="k">print</span><span class="p">(</span><span class="s2">"The file "</span> <span class="o">+</span> <span class="n">filename</span> <span class="o">+</span> <span class="s2">" has about "</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">word_count</span><span class="p">)</span> <span class="o">+</span> <span class="s2">" words."</span><span class="p">)</span>

  <span class="n">filename</span> <span class="o">=</span> <span class="s1">'alice.txt'</span>
  <span class="n">count_words</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span>

  <span class="n">filenames</span> <span class="o">=</span> <span class="p">[</span><span class="s1">'alice.txt'</span><span class="p">,</span> <span class="s1">'siddharta.txt'</span><span class="p">,</span> <span class="s1">'moby_dick.txt'</span><span class="p">,</span> <span class="s1">'little_women.txt'</span><span class="p">]</span>
  <span class="k">for</span> <span class="n">filename</span> <span class="ow">in</span> <span class="n">filenames</span><span class="p">:</span>
    <span class="n">count_words</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span>
</pre>


<h4>Failing silently</h4>
<ul>
<li>word_count.py</li>
</ul>
<pre class="code literal-block"><span></span>  <span class="k">def</span> <span class="nf">count_words</span><span class="p">(</span><span class="n">filename</span><span class="p">):</span>
    <span class="sd">""" Count the approximate number of words in a file """</span>
    <span class="k">try</span><span class="p">:</span>
      <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span> <span class="k">as</span> <span class="n">fobj</span><span class="p">:</span>
        <span class="n">contents</span> <span class="o">=</span> <span class="n">fobj</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
    <span class="k">except</span> <span class="n">FileNotFoundError</span><span class="p">:</span>
      <span class="k">pass</span> <span class="c1"># pass is used to silent the error.  Often times used as a placeholder as well.</span>
    <span class="k">else</span><span class="p">:</span>
      <span class="n">words</span> <span class="o">=</span> <span class="n">contents</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>
      <span class="n">word_count</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">words</span><span class="p">)</span>
      <span class="k">print</span><span class="p">(</span><span class="s2">"The file "</span> <span class="o">+</span> <span class="n">filename</span> <span class="o">+</span> <span class="s2">" has about "</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">word_count</span><span class="p">)</span> <span class="o">+</span> <span class="s2">" words."</span><span class="p">)</span>

  <span class="n">filename</span> <span class="o">=</span> <span class="s1">'alice.txt'</span>
  <span class="n">count_words</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span>

  <span class="n">filenames</span> <span class="o">=</span> <span class="p">[</span><span class="s1">'alice.txt'</span><span class="p">,</span> <span class="s1">'siddharta.txt'</span><span class="p">,</span> <span class="s1">'moby_dick.txt'</span><span class="p">,</span> <span class="s1">'little_women.txt'</span><span class="p">]</span>
  <span class="k">for</span> <span class="n">filename</span> <span class="ow">in</span> <span class="n">filenames</span><span class="p">:</span>
    <span class="n">count_words</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span>
</pre>


<h3>Storing Data</h3>
<h4>json.dump() and json.load()</h4>
<ul>
<li>num_write.py</li>
</ul>
<pre class="code literal-block"><span></span>  <span class="kn">import</span> <span class="nn">json</span>

  <span class="n">nums</span> <span class="o">=</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">11</span><span class="p">,</span> <span class="mi">13</span><span class="p">]</span>
  <span class="n">filename</span> <span class="o">=</span> <span class="s1">'prime.json'</span>
  <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="s1">'w'</span><span class="p">)</span> <span class="k">as</span> <span class="n">fobj</span><span class="p">:</span>
    <span class="n">json</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">nums</span><span class="p">,</span> <span class="n">fobj</span><span class="p">)</span>
</pre>


<ul>
<li>num_read.py</li>
</ul>
<pre class="code literal-block"><span></span>  <span class="kn">import</span> <span class="nn">json</span>

  <span class="n">filename</span> <span class="o">=</span> <span class="s1">'prime.json'</span>
  <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span> <span class="k">as</span> <span class="n">fobj</span><span class="p">:</span>
    <span class="n">primes</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">fobj</span><span class="p">)</span>

  <span class="k">print</span><span class="p">(</span><span class="n">primes</span><span class="p">)</span>
</pre>
</div>
    </div>
    </article>
</div>
        <nav class="postindexpager"><ul class="pager">
<li class="next">
                <a href="index-2.html" rel="next">Older posts</a>
            </li>
        </ul></nav><script>var disqus_shortname="chowygit";(function(){var a=document.createElement("script");a.async=true;a.src="https://"+disqus_shortname+".disqus.com/count.js";(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(a)}());</script>
</div>

    </div>

    
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-73098247-1', 'auto');
  ga('send', 'pageview');

</script>
</body>
</html>
